OHS Release Procedure
---------------------

The following steps (subject to change) are typically performed to prepare a new
OHS release:


1. Update version, installation, and upgrade descriptor files:

    dbscripts/xml/version.xml
    dbscripts/xml/install.xml
    dbscripts/xml/upgrade.xml


2. Update release documentation:

    docs/README.md
    docs/release-notes/README-<VERSION>


3. Copy the current release notes to docs/:

    cp docs/release-notes/README-<VERSION> docs/RELEASE


4. After committing any pending modifications, tag the release in git (both the
OHS codebase and the PKP library to be distributed with it). DO NOT FORGET TO
COMMIT THE lib/pkp HASH FIRST.


    cd lib/pkp
    git tag ohs-<MAJOR>_<MINOR>_<REVISION>-<BUILD>
    git push --tags
    cd ../..
    git tag ohs-<MAJOR>_<MINOR>_<REVISION>-<BUILD>
    git push --tags


5. Build the OHS package and patch files:

    sh tools/buildpkg.sh <VERSION> <TAG>-<BRANCH> <PATCH_DIR>

    (<PATCH_DIR> is the path to a directory containing previous OHS release
     packages against which to build patches)


6. Place the new package, patches, version descriptor, and Doxygen docs on the
   OHS web site:

    https://pkp.sfu.ca/ohs/ohs_download/
    https://pkp.sfu.ca/ohs/xml/ohs-version.xml
    https://pkp.sfu.ca/ohs/doxygen
